!function(){"use strict";var e,n=function(){return n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},n.apply(this,arguments)};function t(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}function r(e,n,t){if(t||2===arguments.length)for(var r,o=0,i=n.length;o<i;o++)!r&&o in n||(r||(r=Array.prototype.slice.call(n,0,o)),r[o]=n[o]);return e.concat(r||Array.prototype.slice.call(n))}"function"==typeof SuppressedError&&SuppressedError;var o=new Uint8Array(16);function i(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(o)}for(var a=[],c=0;c<256;++c)a.push((c+256).toString(16).slice(1));var u={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function s(e,n,t){if(u.randomUUID&&!n&&!e)return u.randomUUID();var r=(e=e||{}).random||(e.rng||i)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return a[e[n+0]]+a[e[n+1]]+a[e[n+2]]+a[e[n+3]]+"-"+a[e[n+4]]+a[e[n+5]]+"-"+a[e[n+6]]+a[e[n+7]]+"-"+a[e[n+8]]+a[e[n+9]]+"-"+a[e[n+10]]+a[e[n+11]]+a[e[n+12]]+a[e[n+13]]+a[e[n+14]]+a[e[n+15]]}(r)}var l="INFOEYES_APM_UID",f=function(){var e=localStorage.getItem(l);if(e)return e;var n=s();return localStorage.setItem(l,n),n},d=function(e){return"PERF_".concat(e)};var p=function(){var e=window.performance.getEntriesByType("resource"),n=0,t=0;return e.forEach((function(e){(function(e){try{return new URL(e).origin===window.location.origin}catch(e){return!1}})(e.name)&&(n++,0===e.transferSize&&t++)})),n?t/n*100:0};function m(){var e=document.querySelectorAll('img:not([data-src]):not([loading="lazy"])');return Array.from(e).filter((function(e){return!function(e){var n=e.getBoundingClientRect();return n.bottom>=0&&n.right>=0&&n.top<=(window.innerHeight||document.documentElement.clientHeight)&&n.left<=(window.innerWidth||document.documentElement.clientWidth)}(e)})).length}var h,v=-1,g=function(e){addEventListener("pageshow",(function(n){n.persisted&&(v=n.timeStamp,e(n))}),!0)},y=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},w=function(){var e=y();return e&&e.activationStart||0},b=function(e,n){var t=y(),r="navigate";return v>=0?r="back-forward-cache":t&&(document.prerendering||w()>0?r="prerender":document.wasDiscarded?r="restore":t.type&&(r=t.type.replace(/_/g,"-"))),{name:e,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},E=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(e){}},T=function(e,n,t,r){var o,i;return function(a){n.value>=0&&(a||r)&&((i=n.value-(o||0))||void 0===o)&&(o=n.value,n.delta=i,n.rating=function(e,n){return e>n[1]?"poor":e>n[0]?"needs-improvement":"good"}(n.value,t),e(n))}},S=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},C=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},A=function(e){var n=!1;return function(){n||(e(),n=!0)}},P=-1,I=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},O=function(e){"hidden"===document.visibilityState&&P>-1&&(P="visibilitychange"===e.type?e.timeStamp:0,M())},_=function(){addEventListener("visibilitychange",O,!0),addEventListener("prerenderingchange",O,!0)},M=function(){removeEventListener("visibilitychange",O,!0),removeEventListener("prerenderingchange",O,!0)},R=function(){return P<0&&(P=I(),_(),g((function(){setTimeout((function(){P=I(),_()}),0)}))),{get firstHiddenTime(){return P}}},L=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},k=[1800,3e3],F=[.1,.25],D=function(e,n){n=n||{},function(e,n){n=n||{},L((function(){var t,r=R(),o=b("FCP"),i=E("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-w(),0),o.entries.push(e),t(!0)))}))}));i&&(t=T(e,o,k,n.reportAllChanges),g((function(r){o=b("FCP"),t=T(e,o,k,n.reportAllChanges),S((function(){o.value=performance.now()-r.timeStamp,t(!0)}))})))}))}(A((function(){var t,r=b("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var n=i[0],t=i[i.length-1];o&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,t())},c=E("layout-shift",a);c&&(t=T(e,r,F,n.reportAllChanges),C((function(){a(c.takeRecords()),t(!0)})),g((function(){o=0,r=b("CLS",0),t=T(e,r,F,n.reportAllChanges),S((function(){return t()}))})),setTimeout(t,0))})))},U=0,x=1/0,N=0,j=function(e){e.forEach((function(e){e.interactionId&&(x=Math.min(x,e.interactionId),N=Math.max(N,e.interactionId),U=N?(N-x)/7+1:0)}))},H=function(){return h?U:performance.interactionCount||0},q=function(){"interactionCount"in performance||h||(h=E("event",j,{type:"event",buffered:!0,durationThreshold:0}))},B=[],G=new Map,z=0,J=[],K=function(e){if(J.forEach((function(n){return n(e)})),e.interactionId||"first-input"===e.entryType){var n=B[B.length-1],t=G.get(e.interactionId);if(t||B.length<10||e.duration>n.latency){if(t)e.duration>t.latency?(t.entries=[e],t.latency=e.duration):e.duration===t.latency&&e.startTime===t.entries[0].startTime&&t.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};G.set(r.id,r),B.push(r)}B.sort((function(e,n){return n.latency-e.latency})),B.length>10&&B.splice(10).forEach((function(e){return G.delete(e.id)}))}}},V=function(e){var n=self.requestIdleCallback||self.setTimeout,t=-1;return e=A(e),"hidden"===document.visibilityState?e():(t=n(e),C(e)),t},W=[200,500],Y=function(e,n){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(n=n||{},L((function(){var t;q();var r,o=b("INP"),i=function(e){V((function(){e.forEach(K);var n=function(){var e=Math.min(B.length-1,Math.floor((H()-z)/50));return B[e]}();n&&n.latency!==o.value&&(o.value=n.latency,o.entries=n.entries,r())}))},a=E("event",i,{durationThreshold:null!==(t=n.durationThreshold)&&void 0!==t?t:40});r=T(e,o,W,n.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),C((function(){i(a.takeRecords()),r(!0)})),g((function(){z=H(),B.length=0,G.clear(),o=b("INP"),r=T(e,o,W,n.reportAllChanges)})))})))},Z=[2500,4e3],X={},Q=function(){var e,n;return null===(n=null===(e=performance.getEntriesByName("first-contentful-paint"))||void 0===e?void 0:e[0])||void 0===n?void 0:n.startTime},$=0,ee=!1,ne=function(e){ee||(ee=!0,"visible"===document.visibilityState&&($=+new Date),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&($=+new Date),"hidden"===document.visibilityState&&function(){var n=+new Date;if($){var t=n-$;e.config.enableForeGroundTime&&e.send({name:"PERF_FOREGROUND_TIME",ts:n,dur:t})}}()})))},te=function(e){e.startForeGroundTime=function(){return ne(e)},e.config.enableForeGroundTime&&ne(e)},re=[],oe=r(r(r(r([function(e){window.addEventListener("load",(function(){var t,r,o=(null===(t=performance.getEntriesByType("navigation")[0])||void 0===t?void 0:t.toJSON())||{},i="";try{i=localStorage.getItem("GASDK_VERSION")}catch(e){}e.send(n(n(n({},o),{gasdkVersion:i,name:d("LOAD"),serverDuration:null===(r=o.serverTiming)||void 0===r?void 0:r.reduce((function(e,n){return e+=n.duration}),0),cacheRate:p()}),{blockResourceCount:window.performance.getEntriesByType("resource").filter((function(e){return"blocking"===(null==e?void 0:e.renderBlockingStatus)})).length,imgShouldLazyloadCount:m()}))}))},function(e){var t=!1,r=!1,o=!1,i=e.config,a=i.enableCls,c=i.enableINP,u=i.enableLCP,s=[];D((function(e){!t&&a&&s.push(n(n({},e),{name:d(e.name),fcp:Q()})),t=!0})),Y((function(e){!r&&c&&s.push(n(n({},e),{name:d(e.name),fcp:Q()})),r=!0})),function(e,n){n=n||{},L((function(){var t,r=R(),o=b("LCP"),i=function(e){n.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-w(),0),o.entries=[e],t())}))},a=E("largest-contentful-paint",i);if(a){t=T(e,o,Z,n.reportAllChanges);var c=A((function(){X[o.id]||(i(a.takeRecords()),a.disconnect(),X[o.id]=!0,t(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return V(c)}),{once:!0,capture:!0})})),C(c),g((function(r){o=b("LCP"),t=T(e,o,Z,n.reportAllChanges),S((function(){o.value=performance.now()-r.timeStamp,X[o.id]=!0,t(!0)}))}))}}))}((function(e){!o&&u&&s.push(n(n({},e),{name:d(e.name),fcp:Q()})),o=!0})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(s.length&&e.send(s),s=[])}))},te],[te],!0),[function(e){if(e.config.enableFPS){var n=0,t=0;requestAnimationFrame((function e(){if(0===n)return n=performance.now(),void requestAnimationFrame(e);t++;var r=performance.now();r-n>=1e3&&(n=r,re.push(t),t=0),re.length<80&&requestAnimationFrame(e)}))}}],!0),[],!0),[function(e){var t=e.config.enableErrorTrace;if(void 0!==t&&t){var r=function(e){try{if(!e)return;return e.stack?e.stack:""}catch(e){return""}};window.addEventListener("error",(function(t){var o,i,a={filename:t.filename,lineno:t.lineno,error:t.error};o=t.target instanceof HTMLElement?{isErrorTrace:!0,evt:"ResourceLoadingError",ts:(new Date).getTime(),level:["script","link"].indexOf(t.target.tagName.toLowerCase())>-1?"ERROR":"WARN",value:(i=t,i.target instanceof HTMLImageElement||i.target instanceof HTMLScriptElement?i.target.src:i.target instanceof HTMLLinkElement?i.target.href:""),url:location.href}:{isErrorTrace:!0,evt:t.error&&t.error.name||"JavaScriptRuntimeError",ts:(new Date).getTime(),level:"ERROR",value:t.message,stack:r(t.target),url:location.href},e.send(n(n({},a),o),{channel:"tango",metricKeys:"error"})}),!0),window.addEventListener("unhandledrejection",(function(n){var t=n.reason,r={isErrorTrace:!0,evt:"Unhandledrejection",ts:(new Date).getTime(),level:"ERROR",value:t.message||t.toString()||"Unhandled Promise rejection",url:location.href};e.send(r,{channel:"tango",metricKeys:"error"})}),!0)}}],!1);function ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ae={exports:{}};!function(e){var n=function(){var e=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,n){if(!r[e]){r[e]={};for(var t=0;t<e.length;t++)r[e][e.charAt(t)]=t}return r[e][n]}var i={compressToBase64:function(e){if(null==e)return"";var t=i._compress(e,6,(function(e){return n.charAt(e)}));switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(t){return o(n,e.charAt(t))}))},compressToUTF16:function(n){return null==n?"":i._compress(n,15,(function(n){return e(n+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(n){return e.charCodeAt(n)-32}))},compressToUint8Array:function(e){for(var n=i.compress(e),t=new Uint8Array(2*n.length),r=0,o=n.length;r<o;r++){var a=n.charCodeAt(r);t[2*r]=a>>>8,t[2*r+1]=a%256}return t},decompressFromUint8Array:function(n){if(null==n)return i.decompress(n);for(var t=new Array(n.length/2),r=0,o=t.length;r<o;r++)t[r]=256*n[2*r]+n[2*r+1];var a=[];return t.forEach((function(n){a.push(e(n))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return t.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(n){return o(t,e.charAt(n))})))},compress:function(n){return i._compress(n,16,(function(n){return e(n)}))},_compress:function(e,n,t){if(null==e)return"";var r,o,i,a={},c={},u="",s="",l="",f=2,d=3,p=2,m=[],h=0,v=0;for(i=0;i<e.length;i+=1)if(u=e.charAt(i),Object.prototype.hasOwnProperty.call(a,u)||(a[u]=d++,c[u]=!0),s=l+u,Object.prototype.hasOwnProperty.call(a,s))l=s;else{if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)h<<=1,v==n-1?(v=0,m.push(t(h)),h=0):v++;for(o=l.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,v==n-1?(v=0,m.push(t(h)),h=0):v++,o>>=1}else{for(o=1,r=0;r<p;r++)h=h<<1|o,v==n-1?(v=0,m.push(t(h)),h=0):v++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,v==n-1?(v=0,m.push(t(h)),h=0):v++,o>>=1}0==--f&&(f=Math.pow(2,p),p++),delete c[l]}else for(o=a[l],r=0;r<p;r++)h=h<<1|1&o,v==n-1?(v=0,m.push(t(h)),h=0):v++,o>>=1;0==--f&&(f=Math.pow(2,p),p++),a[s]=d++,l=String(u)}if(""!==l){if(Object.prototype.hasOwnProperty.call(c,l)){if(l.charCodeAt(0)<256){for(r=0;r<p;r++)h<<=1,v==n-1?(v=0,m.push(t(h)),h=0):v++;for(o=l.charCodeAt(0),r=0;r<8;r++)h=h<<1|1&o,v==n-1?(v=0,m.push(t(h)),h=0):v++,o>>=1}else{for(o=1,r=0;r<p;r++)h=h<<1|o,v==n-1?(v=0,m.push(t(h)),h=0):v++,o=0;for(o=l.charCodeAt(0),r=0;r<16;r++)h=h<<1|1&o,v==n-1?(v=0,m.push(t(h)),h=0):v++,o>>=1}0==--f&&(f=Math.pow(2,p),p++),delete c[l]}else for(o=a[l],r=0;r<p;r++)h=h<<1|1&o,v==n-1?(v=0,m.push(t(h)),h=0):v++,o>>=1;0==--f&&(f=Math.pow(2,p),p++)}for(o=2,r=0;r<p;r++)h=h<<1|1&o,v==n-1?(v=0,m.push(t(h)),h=0):v++,o>>=1;for(;;){if(h<<=1,v==n-1){m.push(t(h));break}v++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(n){return e.charCodeAt(n)}))},_decompress:function(n,t,r){var o,i,a,c,u,s,l,f=[],d=4,p=4,m=3,h="",v=[],g={val:r(0),position:t,index:1};for(o=0;o<3;o+=1)f[o]=o;for(a=0,u=Math.pow(2,2),s=1;s!=u;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=r(g.index++)),a|=(c>0?1:0)*s,s<<=1;switch(a){case 0:for(a=0,u=Math.pow(2,8),s=1;s!=u;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=r(g.index++)),a|=(c>0?1:0)*s,s<<=1;l=e(a);break;case 1:for(a=0,u=Math.pow(2,16),s=1;s!=u;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=r(g.index++)),a|=(c>0?1:0)*s,s<<=1;l=e(a);break;case 2:return""}for(f[3]=l,i=l,v.push(l);;){if(g.index>n)return"";for(a=0,u=Math.pow(2,m),s=1;s!=u;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=r(g.index++)),a|=(c>0?1:0)*s,s<<=1;switch(l=a){case 0:for(a=0,u=Math.pow(2,8),s=1;s!=u;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=r(g.index++)),a|=(c>0?1:0)*s,s<<=1;f[p++]=e(a),l=p-1,d--;break;case 1:for(a=0,u=Math.pow(2,16),s=1;s!=u;)c=g.val&g.position,g.position>>=1,0==g.position&&(g.position=t,g.val=r(g.index++)),a|=(c>0?1:0)*s,s<<=1;f[p++]=e(a),l=p-1,d--;break;case 2:return v.join("")}if(0==d&&(d=Math.pow(2,m),m++),f[l])h=f[l];else{if(l!==p)return null;h=i+i.charAt(0)}v.push(h),f[p++]=i+h.charAt(0),i=h,0==--d&&(d=Math.pow(2,m),m++)}}};return i}();null!=e?e.exports=n:"undefined"!=typeof angular&&null!=angular&&angular.module("LZString",[]).factory("LZString",(function(){return n}))}(ae);var ce=ie(ae.exports),ue="INFOEYES_APM_CACHE",se=function(){return JSON.parse(localStorage.getItem(ue)||"[]").map((function(e){return n(n({},e),{_cache:!0})}))},le=function(e){var n=se(),t=e.filter((function(e){return!e._cache}));localStorage.setItem(ue,JSON.stringify(r(r([],n,!0),t,!0)))},fe={beacon:function(e){var n=e.apiPost,t=e.urlParam,r=e.lzStr,o=e.packedData;!navigator.sendBeacon(n+t,r)&&le(o)},xhr:function(e){var n=e.apiPost,t=e.urlParam,r=e.lzStr,o=e.packedData,i=new XMLHttpRequest;i.open("POST",n+t,!0),i.ontimeout=function(){le(o)},i.timeout=5e3,i.setRequestHeader("Content-Type","application/json"),i.onreadystatechange=function(){4==i.readyState&&200!=i.status&&le(o)},i.setRequestHeader("Content-Type","application/json"),i.send(r)},img:function(e){var n=e.apiImg,t=e.urlParam,r=e.lzStr,o=e.packedData,i=new Image(1,1);i.src=n+t+"&lz="+r+"&_="+String(Math.random()).replace("0.","").slice(0,8),i.complete||(i.onload=function(){i.onload=null},i.onerror=function(){le(o)})},fetch:function(e){var n=e.url,t=e.params,r=e.method,o=e.headers,i=e.mode;window.fetch(n,{method:r,headers:o,mode:i,body:t}).then((function(e){return e.text()})).then((function(e){})).catch((function(e){}))}},de=function(e,t){var r=(Array.isArray(e)?e:[e]).map((function(e){return"apm_custom"===e.name?n(n({},e),{isCustom:!0}):e})),o=se();return localStorage.setItem(ue,"[]"),r[0].fps=re.length?Math.min.apply(Math,re):null,[{uid:f(),sid:t,ts:+new Date,tuid:window.apmConfig.tuid||"",url:location.href,evt:"web_perf_v2",eparam:{metrics:r,apmId:window.apmConfig.apmId}}].concat(o)},pe=function(e,r){var o=r.config,i=r.metricKeys,a=function(e){if("string"!=typeof e)return 0;var n=0;if(0==e.length)return n;for(var t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n};return function(e,i){try{if(o.errorInterceptor&&!o.errorInterceptor(e))return null}catch(e){}var a={resource:{app_id:r[i].app_id},logs:(Array.isArray(e)?e:[e]).map((function(e){var r=e.timestamp,o=e.hashCode,i=e.url,a=t(e,["timestamp","hashCode","url"]),c=i.split("?"),u=c[0];return c[1],{level:"INFO",type:"msg",body:JSON.stringify(a),attributes:n(n({},a),{url:u}),timestamp:r,hashCode:o}}))};return ce.compressToEncodedURIComponent(JSON.stringify(a))}(function(e,n){var t,o={url:window.location.href,sid:r.config.sid,tuid:r.config.tuid,netType:(null===(t=navigator.connection)||void 0===t?void 0:t.effectiveType)||"",apmId:r.config.apmId,timestamp:(new Date).getTime(),ts:(new Date).getTime(),hashCode:a(JSON.stringify(["web_error_trace",e]))};if("error"===n){var i=e||{},c=i.evt,u=i.stack,s=i.value;o.msg=s,o.stack=u,o.evt=c}return o}(e,i),i)},me="https://dsu-h5-a.shalltry.com/athena/tracking/v1/athena_h5/batch",he="https://dsu-h5-a.shalltry.com/athena/tracking/v1/athena_h5/lz.gif",ve=function(){function e(e,r){var o=this;this.metrics=r;var i=window.apmConfig||{},a=i.enableErrorTrace,c=i.enableGameMonitor,u=i.enableINP,s=i.enableCls,l=i.enableLCP,f=i.enableFPS,d=i.enableForeGroundTime,p=i.env,m=i.onEvent,h=t(i,["enableErrorTrace","enableGameMonitor","enableINP","enableCls","enableLCP","enableFPS","enableForeGroundTime","env","onEvent"]);this.config=n(n({enableGameMonitor:null==c||c,enableErrorTrace:null!=a&&a,enableINP:null!=u&&u,enableCls:null!=s&&s,enableLCP:null==l||l,enableFPS:null!=f&&f,enableForeGroundTime:null!=d&&d,env:p},h),{isProd:"prod"===p,sid:"apm-".concat(+new Date,"-").concat(Math.floor(8999999999999*Math.random())+1e12)}),this.send=function(t,r){void 0===r&&(r={}),e(t,n(n({},r),{config:o.config})),"function"==typeof m&&m(t,o)},this.registerMetric(),this.load()}return e.prototype.registerMetric=function(){var e=this;this.metrics.forEach((function(n){n(e)}))},e.prototype.load=function(){var e,t,r=this;try{null===(t=null===(e=window.apm_send)||void 0===e?void 0:e.queue)||void 0===t||t.forEach((function(e){var t=e[0],o=e[1];r.send(n({name:t},o))}))}catch(e){}},e}(),ge=new ve((function(e,t){var r=t.channel,o=void 0===r?"athena":r;"athena"===o?function(e,n){var t=n.type,r=void 0===t?"beacon":t,o=n.config,i=o.isProd,a=o.sid;i||(me="https://dsu-h-test.shalltry.com/athena/tracking/v1/athena_h5/batch",he="https://dsu-h-test.shalltry.com/athena/tracking/v1/athena_h5/lz.gif");var c=fe[r],u=de(e,a),s=JSON.stringify(u),l=function(e){if("string"!=typeof e)return 0;var n=0;if(0==e.length)return n;for(var t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return n}(s),d="?appid=8607&uuid=".concat(f(),"&dupid=").concat(l,"&params_length=").concat(s.length,"&_evt=web_perf_v2"),p=ce.compressToEncodedURIComponent(JSON.stringify(u));c({apiPost:me,apiImg:he,urlParam:d,lzStr:p,packedData:u})}(e,t):"tango"===o&&function(e,t){void 0===t&&(t={});var r=t.config,o={error:{app_id:"test"===(null==r?void 0:r.env)?"20012":"20019"},api:"test"===(null==r?void 0:r.env)?"https://tango-test.tmctool.com":"https://datagateway.tmctool.com"},i=pe(e,n(n({},t),o));i&&fe.fetch({url:"".concat(o.api,"/tango/data/logs"),params:'"'.concat(i,'"'),method:"POST",headers:{"Content-Type":"text/plain","x-scenario-type":"h5","x-tr-devtype":"h5"},mode:"cors"})}(e,t)}),oe);window.apm_send=function(e,t){ge.send(n({name:e},t))},window.apm_send_error=function(e){var n,t,r;void 0===e&&(e={}),"string"==typeof e?(n=e,t=e,r="customError"):(n=e.message||"",t="AxiosError"===e.name?JSON.stringify(e):e.stack||"",r=e.name||"customError"),ge.send({value:n,stack:t,evt:r},{channel:"tango",metricKeys:"error"})}}();
